# SBOM Linkage Contract (T047)
version: 1
name: sbom-linkage
fr_refs: [FR-008]
inputs:
  image_sha:
    type: string
outputs:
  sbom_ref:
    type: string
invariants:
  - description: SBOM artifact name/path includes full image_sha
  - description: SBOM generation MUST NOT modify image digest
  - description: (Future) SBOM digest SHOULD match image digest when using OCI attestation
status: implemented
notes:
  - SBOM produced via syft in build workflow (`Generate SBOM (Syft)` step) as SPDX JSON.
  - metadata.json field `sbom_ref` points to sbom.json artifact.
  - Future: consider attestation via cosign/OCI referrers.
